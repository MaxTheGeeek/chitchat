<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/css/bootstrap.min.css"
    />
    <title>Video Chat</title>
  </head>
  <body>
    <script>
      const script = document.createElement('script');
      script.type = 'text/javascript';
      //
      script.addEventListener('load', function (event) {
        // Initialize the factory function
        const meeting = new VideoSDKMeeting();

        // Set apikey, meetingId and participant name
        const apiKey = '2879ecb5-0cb6-452a-808b-eb48507ae895'; // generated from app.videosdk.live
        const meetingId = 'maxbe111';
        const name = 'Majid Be';

        const config = {
          name: name,
          apiKey: apiKey,
          meetingId: meetingId,

          containerId: null,
          redirectOnLeave: 'https://localhost:3000/chat?username=req.body.username+&room=req.body.room',

          micEnabled: true,
          webcamEnabled: true,
          participantCanToggleSelfWebcam: true,
          participantCanToggleSelfMic: true,

          participantCanLeave: true, // if false, leave button won't be visible

          permissions: {
            askToJoin: false, // Ask joined participants for entry in meeting
            toggleParticipantMic: true, // Can toggle other participant's mic
            toggleParticipantWebcam: true, // Can toggle other participant's webcam
          },

          // joinScreen: {
          //   // visible: true, // Show the join screen ?
          //   // title: "Daily scrum", // Meeting title
          //   meetingUrl: window.location.href, // Meeting joining url
          // },
        };

        meeting.init(config);
      });

      script.src =
        'https://sdk.videosdk.live/rtc-js-prebuilt/0.1.5/rtc-js-prebuilt.js';
      document.getElementsByTagName('head')[0].appendChild(script);
    </script>
  </body>
</html>
